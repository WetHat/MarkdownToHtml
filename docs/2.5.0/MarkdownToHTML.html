<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Module MarkDownToHTML 2.5.0 </title>
    <link rel="stylesheet" type="text/css" href="../styles/md-styles.css" />

    <!-- Code syntax highlighting configuration -->
    <!-- Comment this to deactivate syntax highlighting. -->
    <link rel="stylesheet" type="text/css" href="../styles/vs.css" />
    <!-- Alternative highlighting styles -->
    <!-- <link rel="stylesheet" type="text/css" href="../styles/agate.css" /> -->
    <!-- <link rel="stylesheet" type="text/css" href="../styles/far.css" /> -->
    <!-- <link rel="stylesheet" type="text/css" href="../styles/tomorrow-night-blue.css" />
    <!-- <link rel="stylesheet" type="text/css" href="../vs2015.css" /> -->
    <script src="../js/highlight.pack.js"></script>
    <script>
        hljs.configure({ languages: [] });
        hljs.initHighlightingOnLoad();
    </script>
    <!-- -->
    <!-- mermaid diagram generator configuration -->
    <!-- Comment this to deactivate the diagramming extension ('diagrams'). -->
    <script src="../js/mermaid.min.js"></script>
    <script>mermaid.initialize({ startOnLoad: true });</script>
    <!-- -->
    <!-- KaTeX LaTeX Math typesetting configuration -->
    <!-- Comment this to deactivate the LaTeX math extension ('mathematics'). -->
    <link rel="stylesheet" type="text/css" href="../katex/katex.min.css" />
    <script defer src="../katex/katex.min.js"></script>
    <script>
        // <![CDATA[
        window.onload = function () {
            var tex = document.getElementsByClassName("math");
            Array.prototype.forEach.call(tex, function (el) {
                katex.render(el.textContent, el, {
                    displayMode: (el.nodeName == "DIV"),
                    macros: {
                        "\\(": "",
                        "\\)": "",
                        "\\[": "",
                        "\\]": ""
                    }
                })
            });
        };
          // ]]>
    </script>
    <!-- -->
</head>
<body>
    <nav><button class='navitem'><a href='../index.html'><img width='90%' src='../Markdown2HTML.png'/></a></button>
<div class='navlabel'>MarkdownToHtml</div>
<button class='navitem'><a href='../index.html'>Home</a></button>
<button class='navitem'><a href='../2.5.0/MarkdownToHTML.html'>Module Manifest</a></button>
<button class='navitem'><a href='../2.5.0/about_MarkdownToHTML.html'>About MarkdownToHtml</a></button>
<div class='navlabel'>Page Content</div>
<button class='navitem'><a href='#module-markdowntohtml-2.5.0'><span class='navitem1'>Module MarkDownToHTML 2.5.0</span></a></button>
<button class='navitem'><a href='#components-packaged-with-this-module'><span class='navitem2'>Components packaged with this module:</span></a></button>
<button class='navitem'><a href='#known-incompatibilities'><span class='navitem1'>Known Incompatibilities</span></a></button>
<button class='navitem'><a href='#exported-functions'><span class='navitem1'>Exported Functions</span></a></button>
<button class='navitem'><a href='#release-notes'><span class='navitem1'>Release Notes</span></a></button>
<button class='navitem'><a href='#2.5.0'><span class='navitem2'>2.5.0</span></a></button>
<button class='navitem'><a href='#2.4.0'><span class='navitem2'>2.4.0</span></a></button>
<button class='navitem'><a href='#2.3.1'><span class='navitem2'>2.3.1</span></a></button>
<button class='navitem'><a href='#section'><span class='navitem2'>2.3.0</span></a></button>
<button class='navitem'><a href='#section-1'><span class='navitem2'>2.2.2</span></a></button>
<button class='navitem'><a href='#section-2'><span class='navitem2'>2.2.1</span></a></button>
<button class='navitem'><a href='#section-3'><span class='navitem2'>2.2.0</span></a></button>
<button class='navitem'><a href='#section-4'><span class='navitem2'>2.1.1</span></a></button>
<button class='navitem'><a href='#section-5'><span class='navitem2'>2.1.0</span></a></button>
<button class='navitem'><a href='#enhancements'><span class='navitem4'>Enhancements</span></a></button>
<button class='navitem'><a href='#maintenance'><span class='navitem4'>Maintenance</span></a></button>
<button class='navitem'><a href='#2.0.0'><span class='navitem2'>2.0.0</span></a></button>
<button class='navitem'><a href='#new-features'><span class='navitem4'>New Features</span></a></button>
<button class='navitem'><a href='#maintenance-1'><span class='navitem4'>Maintenance</span></a></button>
<button class='navitem'><a href='#bugfixes'><span class='navitem4'>Bugfixes</span></a></button>
<button class='navitem'><a href='#section-6'><span class='navitem2'>1.3.0</span></a></button>
<button class='navitem'><a href='#section-7'><span class='navitem2'>1.2.8</span></a></button>
<button class='navitem'><a href='#section-8'><span class='navitem2'>1.2.7</span></a></button>
<button class='navitem'><a href='#section-9'><span class='navitem2'>1.2.6</span></a></button>
<button class='navitem'><a href='#section-10'><span class='navitem2'>1.2.4</span></a></button>
<button class='navitem'><a href='#section-11'><span class='navitem2'>1.2.3</span></a></button>
<button class='navitem'><a href='#section-12'><span class='navitem2'>1.2.2</span></a></button>
<button class='navitem'><a href='#section-13'><span class='navitem2'>1.2.1</span></a></button>
<button class='navitem'><a href='#section-14'><span class='navitem2'>1.2.0</span></a></button>
<button class='navitem'><a href='#section-15'><span class='navitem2'>1.1.0</span></a></button>
<button class='navitem'><a href='#section-16'><span class='navitem2'>1.0.0</span></a></button>
</nav>
    <main>
        <article>
            <h1 id="module-markdowntohtml-2.5.0" class="title">Module MarkDownToHTML 2.5.0</h1>
<p><strong>Tags</strong>: Markdown, HTML, Converter, Markdown, HTML, Converter</p>
<p>A collection of PowerShell commands to convert Markdown files to static
HTML sites in various ways.</p>
<h2 id="components-packaged-with-this-module">Components packaged with this module:</h2>
<table>
<thead>
<tr>
<th>Component</th>
<th>Version</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/lunet-io/markdig">Markdig</a></td>
<td>0.25.0</td>
<td>Fast Markdown processor for .NET</td>
</tr>
<tr>
<td><a href="https://highlightjs.org/">highlight.js</a></td>
<td>9.17.1</td>
<td>Code syntax highlighter</td>
</tr>
<tr>
<td><a href="https://katex.org/">KaTeX</a></td>
<td>0.13.11</td>
<td>Math typesetting</td>
</tr>
<tr>
<td><a href="http://mermaid-js.github.io/mermaid/">Mermaid</a></td>
<td>8.10.1</td>
<td>Diagramming</td>
</tr>
<tr>
<td><a href="https://lib.rs/crates/svgbob_cli">Svgbob</a></td>
<td>0.5.0</td>
<td>Text based diagrammimg</td>
</tr>
</tbody>
</table>
<h1 id="known-incompatibilities">Known Incompatibilities</h1>
<p>If you have have conversion projects which use the <em>mathematics</em> extensions and
were created with versions of this module older than 2.0.0 (i.e. 1.* or 0.*).
See <a href="MarkdownToHTML.html#2.0.0">version 2.0.0</a> release notes for upgrade instructions.</p>
<h1 id="exported-functions">Exported Functions</h1>
<ul>
<li><a href="Convert-MarkdownToHTML.html">Convert-MarkdownToHTML</a></li>
<li><a href="Convert-MarkdownToHTMLFragment.html">Convert-MarkdownToHTMLFragment</a></li>
<li><a href="Convert-SvgbobToSvg.html">Convert-SvgbobToSvg</a></li>
<li><a href="ConvertTo-NavigationItem.html">ConvertTo-NavigationItem</a></li>
<li><a href="Expand-HtmlTemplate.html">Expand-HtmlTemplate</a></li>
<li><a href="Find-MarkdownFiles.html">Find-MarkdownFiles</a></li>
<li><a href="New-HTMLTemplate.html">New-HTMLTemplate</a></li>
<li><a href="New-PageHeadingNavigation.html">New-PageHeadingNavigation</a></li>
<li><a href="New-SiteNavigation.html">New-SiteNavigation</a></li>
<li><a href="New-StaticHTMLSiteProject.html">New-StaticHTMLSiteProject</a></li>
<li><a href="Publish-StaticHtmlSite.html">Publish-StaticHtmlSite</a></li>
<li><a href="Update-ResourceLinks.html">Update-ResourceLinks</a></li>
</ul>
<h1 id="release-notes">Release Notes</h1>
<h2 id="2.5.0">2.5.0</h2>
<ul>
<li><p><a href="https://github.com/lunet-io/markdig">Markdig</a>  update to version 0.25.0</p>
</li>
<li><p>Support for publishing static websites to
<a href="https://docs.github.com/en/pages/getting-started-with-github-pages">GitHub Pages</a>.</p>
<p>This new feature is backwards compatible with existing static site projects.
However, if you want to use this new feature in existing site projects
following changes must be applied:</p>
<dl>
<dt><code>Build.json</code> project configuration file</dt>
<dd>
<p>The <code>site_dir</code> option needs to be changed and a new option <code>github_pages</code>
must be added as shown below:</p>
<pre><code class="language-json">{
   ...

   &quot;site_dir&quot;: &quot;docs&quot;,
   ...
   &quot;github_pages&quot;: false,
   ...
}
</code></pre>
<p>Using the name <code>docs</code> for the site directory makes it possible to check-in
the entire conversion project as-is. As soon as <em>GitHub Pages</em> are
enabled and configured to publish the static site from the <code>docs</code>
directory, the site is accessible on the web through its canonical
<em>GitHub Pages</em> url.</p>
</dd>
<dd>
<p>Add a statement to disable the GitHub publishing process (jekyll) which
is not necessary for static sites created by this module. Add
following code to the end of the build file:</p>
<pre><code class="language-PowerShell">...
if ($config.github_pages) {
    # Switch off Jekyll publishing when building for GitHub pages
    New-Item -Path $staticSite -Name .nojekyll -ItemType File
}
</code></pre>
</dd>
</dl>
</li>
<li><p>Added a Markdown pre-processing step to the conversion pipelione.</p>
<p>The default preprocessing converts <a href="https://ivanceras.github.io/content/Svgbob.html">Svgbob</a>
character art diagrams to svg images. See the
<a href="../index.html#svgbob-plain-text-diagrams">feature showcase</a>
for an example.</p>
<p>This new feature is backwards compatible with existing static site projects.
However, if you want to use <code>Svgbob</code> diagrams in existing site projects
following changes must be made:</p>
<dl>
<dt><code>Build.json</code> project configuration file</dt>
<dd>
<p>A new option <code>svgbob</code> option needs to be added to for configuration
of the svg conversion.</p>
<pre><code class="language-json">{
   ...
   &quot;svgbob&quot;: {
      &quot;background&quot;:   &quot;white&quot;,
      &quot;fill_color&quot;:   &quot;black&quot;,
      &quot;font_size&quot;:    14,
      &quot;font_family&quot;:  &quot;Monospace&quot;,
      &quot;scale&quot;:        1,
      &quot;stroke_width&quot;: 2
  }
}
</code></pre>
<p>See <a href="about_MarkdownToHTML.html#static-site-project-customization">Static Site Project Customization</a>
for more details.</p>
</dd>
</dl>
<dl>
<dt><code>Build.json</code> project configuration file</dt>
<dd>
<p>A Preprocessing stage needs to be added to the conversion pipeline:</p>
<pre><code class="language-PowerShell"># Conversion pipeline
$SCRIPT:markdown = Join-Path $projectDir $config.markdown_dir
Find-MarkdownFiles $markdown -Exclude $config.Exclude `
| ForEach-Object { # Markdown Preprocessor
    Get-Content $_ -Encoding UTF8 `
    | Convert-SvgbobToSvg -SiteDirectory $staticSite `
                          -RelativePath $_.RelativePath `
                          -Options $SCRIPT:config.svgbob `
    | Complete-MarkdownPreprocessor -RelativePath $_.RelativePath
  }`
| Convert-MarkdownToHTMLFragment -IncludeExtension $config.markdown_extensions `
| Publish-StaticHTMLSite -Template (Join-Path $projectDir $config.HTML_Template) `
                         -ContentMap  $contentMap `
  				         -MediaDirectory $markdown `
                         -SiteDirectory $staticSite
</code></pre>
</dd>
</dl>
</li>
</ul>
<h2 id="2.4.0">2.4.0</h2>
<ul>
<li><p>Navigation bar improvements (Static HTML site projects):</p>
<ul>
<li>scrollbar added to long navbars.</li>
<li><code>md-styles.css</code> overhauled for static site template to make navbar usable
for overflowing navitems</li>
<li>HTML fragments with resource links supported in navitem names.
Example from a <code>Build.json</code> which displays a navigatable image:
<pre><code class="language-Json">&quot;site_navigation&quot;: [
    { &quot;&lt;img width='90%' src='site_logo.png'/&gt;&quot;: &quot;README.md&quot; },
    { &quot;Home&quot;: &quot;README.md&quot; },
    { &quot;---&quot;: &quot;&quot; }
]
</code></pre>
</li>
<li>New commands implemented to remove code duplication and make the <code>Build.ps1</code>
file more consistent.
Upgrade of the <code>Build.ps1</code> file of existing projects is optional. All changes
are backeard compatible. If you want to upgrade anyways change the content
map section of<code>Build.ps1</code> file like so:
<pre><code class="language-PowerShell">$SCRIPT:contentMap = @{
    # Add additional mappings here...
    '{{footer}}' =  $config.Footer # Footer text from configuration
    '{{nav}}'    = {
	    param($fragment) # the html fragment created from a markdown file
	    $navcfg = $config.navigation_bar # navigation bar configuration
	    # Create the navigation items configured in 'Build.json'
	    New-SiteNavigation -NavitemSpecs $config.site_navigation `
	                       -RelativePath $fragment.RelativePath `
	                       -NavTemplate $navcfg.templates
	    # Create navigation items to headings on the local page.
	    # This requires the `autoidentifiers` extension to be enabled.
	    New-PageHeadingNavigation -HTMLfragment $fragment.HTMLFragment `
	                              -NavTemplate $navcfg.templates `
	                              -HeadingLevels $navcfg.capture_page_headings
    }
}
</code></pre>
</li>
</ul>
</li>
<li><p>Module Documentation</p>
<ul>
<li>Code and conceptial documentation improved</li>
<li>Documentation generated with this module and published to
<a href="https://wethat.github.io/MarkdownToHtml">GitHub Pages</a></li>
</ul>
</li>
</ul>
<h2 id="2.3.1">2.3.1</h2>
<ul>
<li>Navigation bar improvements (Static HTML site projects):
<ul>
<li>default navigation menu changed to a static vertical sidebar.</li>
<li>navigation items pop out dynamically on mouse hover.</li>
<li>auto-added navigation items for page headings indented according to heading
level.</li>
<li>navbar formatting made more consistent.</li>
<li>navbar small screen support</li>
</ul>
</li>
</ul>
<h2 id="section">2.3.0</h2>
<ul>
<li><p>Page navigation bar made customizable. To take advantage of this feature
in existing projects following files need to be updated:</p>
<ul>
<li><code>Build.ps1</code>: A <code>-NavTemplate</code> parameter needs to be added to the invokation of <a href="ConvertTo-NavigationItem.html"><code>ConvertTo-NavigationItem</code></a>.
A <code>-NavTemplate</code> and a <code>-HeadingLevels</code> parameter needs to be added to
the invokation of<a href="ConvertTo-PageHeadingNavigation.html"><code>ConvertTo-PageHeadingNavigation</code></a>.
For example:</li>
</ul>
<pre><code class="language-PowerShell"># Set-up the content mapping rules for replacing the templace placeholders
$SCRIPT:contentMap = @{
      # Add additional mappings here...
      '{{footer}}' =  $config.Footer # Footer text from configuration
      '{{nav}}'    = {
  	    param($fragment) # the html fragment created from a markdown file
  	    $navcfg = $config.navigation_bar # navigation bar configuration
  	    # Create the navigation items configured in 'Build.json'
  	    $config.site_navigation | ConvertTo-NavigationItem -RelativePath $fragment.RelativePath `
  	                                                        -NavTemplate $navcfg.templates
  	    # Create navigation items to headings on the local page.
  	    # This requires the `autoidentifiers` extension to be enabled.
  	    ConvertTo-PageHeadingNavigation $fragment.HTMLFragment -NavTemplate $navcfg.templates `
  	                                                            -HeadingLevels $navcfg.capture_page_headings
      }
}
</code></pre>
<ul>
<li><code>Build.json</code>: a navigation bar configuration section needs to be added:</li>
</ul>
<pre><code class="language-json">...
&quot;navigation_bar&quot;: {
    &quot;capture_page_headings&quot;: &quot;123456&quot;,
    &quot;templates&quot;: {
        &quot;navitem&quot;: &quot;&lt;button class='navitem'&gt;&lt;a href='{{navurl}}'&gt;{{navtext}}&lt;/a&gt;&lt;/button&gt;&quot;,
        &quot;navlabel&quot;: &quot;&lt;div class='navitem'&gt;{{navtext}}&lt;/div&gt;&quot;,
        &quot;navseparator&quot;: &quot;&lt;hr class='navitem'/&gt;&quot;,
        &quot;navheading&quot;: &quot;&lt;span class='navitem{{level}}'&gt;{{navtext}}&lt;/span&gt;&quot;
    }
},
...
</code></pre>
</li>
<li><p>Component updates:</p>
<ul>
<li><code>Markdig</code> update to version 0.24</li>
<li><code>KateX</code> update to version 0.13.11</li>
<li><code>Mermaid</code> update to version 8.10.1</li>
</ul>
</li>
</ul>
<h2 id="section-1">2.2.2</h2>
<ul>
<li>added referenced .net assemblies which may not be guaranteed to be present</li>
</ul>
<h2 id="section-2">2.2.1</h2>
<ul>
<li>Katex Updated to version 0.12.0</li>
<li>Mermaid updated to version 8.8.2</li>
<li>Markdig updated to version 0.22.0</li>
<li>Code signed With long term self signed certificate</li>
</ul>
<h2 id="section-3">2.2.0</h2>
<ul>
<li>Fixed issue with <a href="ConvertTo-NavigationItem.html"><code>ConvertTo-NavigationItem</code></a> not understanding hyperlinks
with <code>#</code> fragments.</li>
<li>Added <code>autoidentifiers</code> to the <code>Build.json</code> in the project template so that
headings get <code>id</code> attributes.</li>
<li>Added navigation items for headings on the current page to the navbar.</li>
</ul>
<h2 id="section-4">2.1.1</h2>
<ul>
<li>Bugfix: Site assets not copied in build script</li>
</ul>
<h2 id="section-5">2.1.0</h2>
<h4 id="enhancements">Enhancements</h4>
<ul>
<li><a href="Publish-StaticHtmlSite.html"><code>Publish-StaticHtmlSite</code></a> now accepts definition of custom placeholder
mappins for expansion of <code>md-template.html</code>.</li>
<li>Default template placeholder delimiters changed to <code>{{</code> and <code>}}</code>.</li>
<li>Static HTML site projects added: See <a href="New-StaticHTMLSiteProject.html"><code>New-StaticHTMLSiteProject</code></a>.</li>
<li>Documentation made more <a href="Get-Help.html"><code>Get-Help</code></a> friendly.</li>
<li><em>Mermaid</em> assets updated to version 8.5.0</li>
</ul>
<h4 id="maintenance">Maintenance</h4>
<ul>
<li>Minimum required Powershell version now 5.1 (Desktop)</li>
</ul>
<h2 id="2.0.0">2.0.0</h2>
<p>The version of <em>Markdig</em> included in this release introduces an
incompatiblity with projects which use the <em>mathematics</em> extension
<strong>and</strong> were created with versions of this module older than 2.0.0
(i.e. 1.* or 0.*).</p>
<p>To address this incompaibility the <em>KaTex</em> configuration in
<strong>all</strong> deployed html templates (<code>md_template.html</code>) need to be updated like so:</p>
<pre><code class="language-html">&lt;script&gt;
    // &lt;![CDATA[
    window.onload = function() {
        var tex = document.getElementsByClassName(&quot;math&quot;);
        Array.prototype.forEach.call(tex, function(el) {
            katex.render(el.textContent, el, {
                                                displayMode: (el.nodeName == &quot;DIV&quot;),
                                                macros: {
                                                            &quot;\\(&quot;: &quot;&quot;,
                                                            &quot;\\)&quot;: &quot;&quot;,
                                                            &quot;\\[&quot;: &quot;&quot;,
                                                            &quot;\\]&quot;: &quot;&quot;
                                                        }
                                            })
        });
    };
    // ]]&gt;
&lt;/script&gt;
</code></pre>
<h4 id="new-features">New Features</h4>
<ul>
<li>Highlighting languages <em>Perl</em> and <em>YAML</em> added</li>
</ul>
<h4 id="maintenance-1">Maintenance</h4>
<ul>
<li>Updated to <em>Markdig</em> 0.18.0.</li>
<li>KaTeX updated to version 0.11.1</li>
<li>Code syntax highlighting updated to version 9.17.1</li>
</ul>
<h4 id="bugfixes">Bugfixes</h4>
<ul>
<li>Rendering of math blocks now creates centered output with the correct (bigger) font.</li>
<li>Changed the default html template (<code>md_template.html</code>) to address the incompatible
change in the LaTeX math output of the <em>mathematics</em> extension of <em>Markdig</em>.</li>
</ul>
<h2 id="section-6">1.3.0</h2>
<ul>
<li>upgrade of markdig to version 0.17.2</li>
<li>KaTex upgraded to 0.11.0</li>
<li>Re-factored the Markdown converter pipeline and made it parts public
to make it useful for a broader range of Markdown conversion scenarios.</li>
</ul>
<h2 id="section-7">1.2.8</h2>
<ul>
<li><a href="Write-Host.html"><code>Write-Host</code></a> replaced by the more benign <a href="Write-Verbose.html"><code>Write-Verbose</code></a></li>
<li>Minor code cleanup</li>
</ul>
<h2 id="section-8">1.2.7</h2>
<ul>
<li>Empty lines allowed im 'md-template.html` to remove an ugly but harmless
exception.</li>
<li>Syntax highlighting updated to version 9.14.2</li>
<li>Upgrade to markdig version 0.15.7</li>
<li>Added Resources and configuration for the <a href="https://mermaidjs.github.io/">mermaid</a> diagram and
flowchart generator version 8.0.0 to the HTML template.</li>
<li>Added Resources and configuration for the <a href="https://katex.org/">KaTeX</a> LaTeX Math
typesetting library version 0.10.0 to the HTML template.</li>
<li>Documentation improved.</li>
</ul>
<h2 id="section-9">1.2.6</h2>
<ul>
<li>Powershell Gallery metadata added.</li>
</ul>
<h2 id="section-10">1.2.4</h2>
<ul>
<li>Replaced <code>[System.Web.HttpUtility]</code> by <code>[System.Net.WebUtility]</code> to fix issue
when powershell is run with <code>-noprofile</code></li>
</ul>
<h2 id="section-11">1.2.3</h2>
<ul>
<li>Fixed regression introduced in 1.2.2</li>
<li>Regression test setup</li>
</ul>
<h2 id="section-12">1.2.2</h2>
<ul>
<li>Support for markdown files in a directory hierarchy fixed.
(directory scanning fixed and relative path added to resource links)</li>
</ul>
<h2 id="section-13">1.2.1</h2>
<p>Handle partially HTML encoded code blocks</p>
<h2 id="section-14">1.2.0</h2>
<ul>
<li>Replaced XML template processing with text based template processing,
to relax constraints on the HTML fragment quality.</li>
<li>HTML encode text in <code>&lt;code&gt;</code> blocks</li>
</ul>
<h2 id="section-15">1.1.0</h2>
<ul>
<li>Setting of Markdown parser options implemented</li>
<li>Wildcard support for pathes added</li>
</ul>
<h2 id="section-16">1.0.0</h2>
<p>Initial Release</p>
<hr />
<p><cite>Module: MarkDownToHTML; Version: 2.5.0; (c) 2018-2021 WetHat Lab. All rights reserved.</cite></p>

        </article>
        <footer>
            <hr />
            Site created by PowerShell Module <a href='https://github.com/WetHat/MarkdownToHtml'>MarkdownToHTML</a>.
        </footer>
    </main>
</body>
</html>
